# HTTP权威指南


## 连接管理

### HTTP连接时延（主要来源于TCP时延）

#### 域名解析

#### 多个HTTP请求下建立连接

### HTTP连接处理

#### 连接方式

##### 串行连接

##### 并行连接

###### 小带宽时同时连接容易每个连接速度都很低，同时服务器处理连接消耗大量内存

##### 持久连接

###### HTTP事务处理后连接仍保持打开状态一段时间

###### Connection:Keep-Alive

   * 被大量使用的一种连接，但在HTTP/1.1时就没有规范说明

   * 必须确定报文实体长度的情况下建立

   * 但会出现哑代理情况：网络节点盲转发，造成节点与服务器建立持久连接，而非客户端

###### HTTP/1.1中的持久连接

   * HTTP/1.1默认所有连接都是持久的，需要显式添加Connection:close来关闭

##### 管道化连接

###### 不等响应连续发送请求，因此服务器必须有序发回响应，客户端必须能重发其中未完成的请求

#### 关闭连接

##### 任意HTTP实体都可以在任意时刻决定何时关闭连接

##### 验证发送是否结束

###### Content-Length响应首部

##### 是否重发事务

###### 执行结果都相同的事务，自动重发

###### 如POST，执行结果可能不相同的事务，浏览器一般会询问用户是否重发

## Web服务器

### 接收客户端请求

#### ident协议

##### 创建连接后，再打开一条ident协议端口的连接，服务器用来询问发送HTTP请求的客户端的用户名

##### 由于产生严重时延，不安全的哪个因素，ident再互联网上不方便使用

### 接收报文

### 处理请求

### 资源映射及访问

#### 基于根目录，静态文件或目录映射

#### 动态映射，这里就转到应用程序上面了

#### 访问控制

### 构建响应

### 发送响应

### 记录日志

## 代理

### 代理与网关的区别

#### 代理连接相同协议的两端，网关连接多个使用不同协议的端点 

### 代理的一些作用

#### 过滤器

#### 访问控制

#### 防火墙

#### 反向代理

#### 内容路由器

#### 匿名报文

### 代理位置

#### 出口

#### 访问ISP入口

#### 反向代理

### 配置代理

#### 手工配置：浏览器内配置或系统配置

#### 子主题 2
